language: node_js
service: docker
sudo: required
env:
  - LOGSTASH_HOST=localhost LOGSTASH_PORT=12000
before_script:
  - docker run --rm -d -v $TRAVIS_BUILD_DIR/ci/logstash.conf:/usr/share/logstash/pipeline/logstash.conf -v $TRAVIS_BUILD_DIR/ci/logstash.yml:/usr/share/logstash/config/logstash.yml docker.elastic.co/logstash/logstash:7.1.1

node_js:
  - "6"
  - "7"
  - "8"
  - "9"
  - "10"
cache:
  directories:
    - "node_modules"